title:: 【Reading Highlights】新时期的阿里妈妈广告引擎
source:: https://zhuanlan.zhihu.com/p/523549804
summary:: 
tags:: [[简悦]] [[阿里技术]]  [[阿里妈妈]]  [[阿里巴巴]]  [[工程优化]]   [[reading_highlights]]
date:: 20220702  

- > 阿里妈妈广告引擎经过多年、多个阶段的迭代，已经逐渐走向了**全图化架构** —— 引擎的数十个模块基本都是基于 C++ 算子 + 图（DAG）的迭代模式，多个模块的 DAG 组成了引擎整体的业务大图。  ([🌐 摘要链接](https://zhuanlan.zhihu.com/p/523549804#js_content:~:text=%E5%85%A8%E5%9B%BE%E5%8C%96%E6%9E%B6%E6%9E%84%E9%98%BF%E9%87%8C%E5%A6%88%E5%A6%88%E5%B9%BF%E5%91%8A%E5%BC%95%E6%93%8E%E7%BB%8F%E8%BF%87%E5%A4%9A%E5%B9%B4%E3%80%81%E5%A4%9A%E4%B8%AA%E9%98%B6%E6%AE%B5%E7%9A%84%E8%BF%AD%E4%BB%A3%EF%BC%8C%E5%B7%B2%E7%BB%8F%E9%80%90%E6%B8%90%E8%B5%B0%E5%90%91%E4%BA%86%20%E2%80%94%E2%80%94%20%E5%BC%95%E6%93%8E%E7%9A%84%E6%95%B0%E5%8D%81%E4%B8%AA%E6%A8%A1%E5%9D%97%E5%9F%BA%E6%9C%AC%E9%83%BD%E6%98%AF%E5%9F%BA%E4%BA%8E%20C++%20%E7%AE%97%E5%AD%90%20+%20%E5%9B%BE%EF%BC%88DAG%EF%BC%89%E7%9A%84%E8%BF%AD%E4%BB%A3%E6%A8%A1%E5%BC%8F%EF%BC%8C%E5%A4%9A%E4%B8%AA%E6%A8%A1%E5%9D%97%E7%9A%84%20DAG%20%E7%BB%84%E6%88%90%E4%BA%86%E5%BC%95%E6%93%8E%E6%95%B4%E4%BD%93%E7%9A%84%E4%B8%9A%E5%8A%A1%E5%A4%A7%E5%9B%BE%E3%80%82))
  - 📝 全图化，算子+DAG

- > ![](https://pic3.zhimg.com/v2-110cba96bdd87b43c226067b91ca5622_r.jpg) [[系统流程]]   ([🌐 摘要链接](https://zhuanlan.zhihu.com/p/523549804#js_content:~:text=https://pic3.zhimg.com/v2-110cba96bdd87b43c226067b91ca5622_r.jpg))

- > **统一运行时**：所有模块选择统一的运行时框架，来托管 PaaS 层的能力，尤其是管理各种数据的分发，让业务开发同学能够**只关注业务逻辑**，降低了迭代难度。这个统一的框架，从之前的 ControlFlow（控制流）模式全面切换到 DataFlow（数据流）模式，在业务编排上带来了性能优化的空间；同时，通过解耦业务逻辑表达（DAG 描述）和运行时执行，框架底层可以引入对逻辑图的编译优化（算子融合 / 并行 / 调序等），使得运行时性能可以持续优化，确保引擎的高吞吐和**低延迟**。  ([🌐 摘要链接](https://zhuanlan.zhihu.com/p/523549804#js_content:~:text=%E7%BB%9F%E4%B8%80%E8%BF%90%E8%A1%8C%E6%97%B6%EF%BC%9A%E6%89%80%E6%9C%89%E6%A8%A1%E5%9D%97%E9%80%89%E6%8B%A9%E7%BB%9F%E4%B8%80%E7%9A%84%E8%BF%90%E8%A1%8C%E6%97%B6%E6%A1%86%E6%9E%B6%EF%BC%8C%E6%9D%A5%E6%89%98%E7%AE%A1%20PaaS%20%E5%B1%82%E7%9A%84%E8%83%BD%E5%8A%9B%EF%BC%8C%E5%B0%A4%E5%85%B6%E6%98%AF%E7%AE%A1%E7%90%86%E5%90%84%E7%A7%8D%E6%95%B0%E6%8D%AE%E7%9A%84%E5%88%86%E5%8F%91%EF%BC%8C%E8%AE%A9%E4%B8%9A%E5%8A%A1%E5%BC%80%E5%8F%91%E5%90%8C%E5%AD%A6%E8%83%BD%E5%A4%9F%E5%8F%AA%E5%85%B3%E6%B3%A8%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%EF%BC%8C%E9%99%8D%E4%BD%8E%E4%BA%86%E8%BF%AD%E4%BB%A3%E9%9A%BE%E5%BA%A6%E3%80%82%E8%BF%99%E4%B8%AA%E7%BB%9F%E4%B8%80%E7%9A%84%E6%A1%86%E6%9E%B6%EF%BC%8C%E4%BB%8E%E4%B9%8B%E5%89%8D%E7%9A%84%20ControlFlow%EF%BC%88%E6%8E%A7%E5%88%B6%E6%B5%81%EF%BC%89%E6%A8%A1%E5%BC%8F%E5%85%A8%E9%9D%A2%E5%88%87%E6%8D%A2%E5%88%B0%20DataFlow%EF%BC%88%E6%95%B0%E6%8D%AE%E6%B5%81%EF%BC%89%E6%A8%A1%E5%BC%8F%EF%BC%8C%E5%9C%A8%E4%B8%9A%E5%8A%A1%E7%BC%96%E6%8E%92%E4%B8%8A%E5%B8%A6%E6%9D%A5%E4%BA%86%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%9A%84%E7%A9%BA%E9%97%B4%EF%BC%9B%E5%90%8C%E6%97%B6%EF%BC%8C%E9%80%9A%E8%BF%87%E8%A7%A3%E8%80%A6%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E8%A1%A8%E8%BE%BE%EF%BC%88DAG%20%E6%8F%8F%E8%BF%B0%EF%BC%89%E5%92%8C%E8%BF%90%E8%A1%8C%E6%97%B6%E6%89%A7%E8%A1%8C%EF%BC%8C%E6%A1%86%E6%9E%B6%E5%BA%95%E5%B1%82%E5%8F%AF%E4%BB%A5%E5%BC%95%E5%85%A5%E5%AF%B9%E9%80%BB%E8%BE%91%E5%9B%BE%E7%9A%84%E7%BC%96%E8%AF%91%E4%BC%98%E5%8C%96%EF%BC%88%E7%AE%97%E5%AD%90%E8%9E%8D%E5%90%88%20/%20%E5%B9%B6%E8%A1%8C%20/%20%E8%B0%83%E5%BA%8F%E7%AD%89%EF%BC%89%EF%BC%8C%E4%BD%BF%E5%BE%97%E8%BF%90%E8%A1%8C%E6%97%B6%E6%80%A7%E8%83%BD%E5%8F%AF%E4%BB%A5%E6%8C%81%E7%BB%AD%E4%BC%98%E5%8C%96%EF%BC%8C%E7%A1%AE%E4%BF%9D%E5%BC%95%E6%93%8E%E7%9A%84%E9%AB%98%E5%90%9E%E5%90%90%E5%92%8C%E4%BD%8E%E5%BB%B6%E8%BF%9F%E3%80%82))

- > **统一数据抽象**：将引擎依赖的各种数据统一抽象为 Table（倒排 / 正排 / KV 等），业务开发只需要配置化地依赖 Table，即可在自己的 DAG 中去直接消费。所有数据表在可视化的管控系统中进行管理，运行时框架负责数据表的拉取和切换，业务代码则直接拿到可用的数据表指针进行使用。  ([🌐 摘要链接](https://zhuanlan.zhihu.com/p/523549804#js_content:~:text=%E7%BB%9F%E4%B8%80%E6%95%B0%E6%8D%AE%E6%8A%BD%E8%B1%A1%EF%BC%9A%E5%B0%86%E5%BC%95%E6%93%8E%E4%BE%9D%E8%B5%96%E7%9A%84%E5%90%84%E7%A7%8D%E6%95%B0%E6%8D%AE%E7%BB%9F%E4%B8%80%E6%8A%BD%E8%B1%A1%E4%B8%BA%20Table%EF%BC%88%E5%80%92%E6%8E%92%20/%20%E6%AD%A3%E6%8E%92%20/%20KV%20%E7%AD%89%EF%BC%89%EF%BC%8C%E4%B8%9A%E5%8A%A1%E5%BC%80%E5%8F%91%E5%8F%AA%E9%9C%80%E8%A6%81%E9%85%8D%E7%BD%AE%E5%8C%96%E5%9C%B0%E4%BE%9D%E8%B5%96%20Table%EF%BC%8C%E5%8D%B3%E5%8F%AF%E5%9C%A8%E8%87%AA%E5%B7%B1%E7%9A%84%20DAG%20%E4%B8%AD%E5%8E%BB%E7%9B%B4%E6%8E%A5%E6%B6%88%E8%B4%B9%E3%80%82%E6%89%80%E6%9C%89%E6%95%B0%E6%8D%AE%E8%A1%A8%E5%9C%A8%E5%8F%AF%E8%A7%86%E5%8C%96%E7%9A%84%E7%AE%A1%E6%8E%A7%E7%B3%BB%E7%BB%9F%E4%B8%AD%E8%BF%9B%E8%A1%8C%E7%AE%A1%E7%90%86%EF%BC%8C%E8%BF%90%E8%A1%8C%E6%97%B6%E6%A1%86%E6%9E%B6%E8%B4%9F%E8%B4%A3%E6%95%B0%E6%8D%AE%E8%A1%A8%E7%9A%84%E6%8B%89%E5%8F%96%E5%92%8C%E5%88%87%E6%8D%A2%EF%BC%8C%E4%B8%9A%E5%8A%A1%E4%BB%A3%E7%A0%81%E5%88%99%E7%9B%B4%E6%8E%A5%E6%8B%BF%E5%88%B0%E5%8F%AF%E7%94%A8%E7%9A%84%E6%95%B0%E6%8D%AE%E8%A1%A8%E6%8C%87%E9%92%88%E8%BF%9B%E8%A1%8C%E4%BD%BF%E7%94%A8%E3%80%82))

- > **统一业务抽象**：在统一运行时框架、统一数据抽象之后，继续对业务编程接口和算子进行规范化：算子的输入输出均为标准 Schema 的数据 Table、去除对 Session 的依赖，从接口上让算子功能内聚；同时合理抽象所有算子的颗粒度，算子粒度变小之后，复用性大大提升，实现了业务算子在引擎所有模块之间 “**漂移**” 的效果，让**重计算**的业务引擎变得灵动起来。在领域对象 + 业务算子标准化的基础上，还可以逐步实现业务子图、乃至业务解决方案的复用，使得业务能力的沉淀、新业务的快速组装成为可能。  ([🌐 摘要链接](https://zhuanlan.zhihu.com/p/523549804#js_content:~:text=%E7%BB%9F%E4%B8%80%E4%B8%9A%E5%8A%A1%E6%8A%BD%E8%B1%A1%EF%BC%9A%E5%9C%A8%E7%BB%9F%E4%B8%80%E8%BF%90%E8%A1%8C%E6%97%B6%E6%A1%86%E6%9E%B6%E3%80%81%E7%BB%9F%E4%B8%80%E6%95%B0%E6%8D%AE%E6%8A%BD%E8%B1%A1%E4%B9%8B%E5%90%8E%EF%BC%8C%E7%BB%A7%E7%BB%AD%E5%AF%B9%E4%B8%9A%E5%8A%A1%E7%BC%96%E7%A8%8B%E6%8E%A5%E5%8F%A3%E5%92%8C%E7%AE%97%E5%AD%90%E8%BF%9B%E8%A1%8C%E8%A7%84%E8%8C%83%E5%8C%96%EF%BC%9A%E7%AE%97%E5%AD%90%E7%9A%84%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E5%9D%87%E4%B8%BA%E6%A0%87%E5%87%86%20Schema%20%E7%9A%84%E6%95%B0%E6%8D%AE%20Table%E3%80%81%E5%8E%BB%E9%99%A4%E5%AF%B9%20Session%20%E7%9A%84%E4%BE%9D%E8%B5%96%EF%BC%8C%E4%BB%8E%E6%8E%A5%E5%8F%A3%E4%B8%8A%E8%AE%A9%E7%AE%97%E5%AD%90%E5%8A%9F%E8%83%BD%E5%86%85%E8%81%9A%EF%BC%9B%E5%90%8C%E6%97%B6%E5%90%88%E7%90%86%E6%8A%BD%E8%B1%A1%E6%89%80%E6%9C%89%E7%AE%97%E5%AD%90%E7%9A%84%E9%A2%97%E7%B2%92%E5%BA%A6%EF%BC%8C%E7%AE%97%E5%AD%90%E7%B2%92%E5%BA%A6%E5%8F%98%E5%B0%8F%E4%B9%8B%E5%90%8E%EF%BC%8C%E5%A4%8D%E7%94%A8%E6%80%A7%E5%A4%A7%E5%A4%A7%E6%8F%90%E5%8D%87%EF%BC%8C%E5%AE%9E%E7%8E%B0%E4%BA%86%E4%B8%9A%E5%8A%A1%E7%AE%97%E5%AD%90%E5%9C%A8%E5%BC%95%E6%93%8E%E6%89%80%E6%9C%89%E6%A8%A1%E5%9D%97%E4%B9%8B%E9%97%B4%20%E2%80%9C%E6%BC%82%E7%A7%BB%E9%87%8D%E8%AE%A1%E7%AE%97%E2%80%9D%20%E7%9A%84%E6%95%88%E6%9E%9C%EF%BC%8C%E8%AE%A9%E7%9A%84%E4%B8%9A%E5%8A%A1%E5%BC%95%E6%93%8E%E5%8F%98%E5%BE%97%E7%81%B5%E5%8A%A8%E8%B5%B7%E6%9D%A5%E3%80%82%E5%9C%A8%E9%A2%86%E5%9F%9F%E5%AF%B9%E8%B1%A1%20+%20%E4%B8%9A%E5%8A%A1%E7%AE%97%E5%AD%90%E6%A0%87%E5%87%86%E5%8C%96%E7%9A%84%E5%9F%BA%E7%A1%80%E4%B8%8A%EF%BC%8C%E8%BF%98%E5%8F%AF%E4%BB%A5%E9%80%90%E6%AD%A5%E5%AE%9E%E7%8E%B0%E4%B8%9A%E5%8A%A1%E5%AD%90%E5%9B%BE%E3%80%81%E4%B9%83%E8%87%B3%E4%B8%9A%E5%8A%A1%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E7%9A%84%E5%A4%8D%E7%94%A8%EF%BC%8C%E4%BD%BF%E5%BE%97%E4%B8%9A%E5%8A%A1%E8%83%BD%E5%8A%9B%E7%9A%84%E6%B2%89%E6%B7%80%E3%80%81%E6%96%B0%E4%B8%9A%E5%8A%A1%E7%9A%84%E5%BF%AB%E9%80%9F%E7%BB%84%E8%A3%85%E6%88%90%E4%B8%BA%E5%8F%AF%E8%83%BD%E3%80%82))

- > ![](https://pic2.zhimg.com/v2-d34dcad0648c304554eaa98068975055_r.jpg) [[系统架构]]  [[阿里技术]]   ([🌐 摘要链接](https://zhuanlan.zhihu.com/p/523549804#js_content:~:text=https://pic2.zhimg.com/v2-d34dcad0648c304554eaa98068975055_r.jpg))

- > 阿里妈妈的召回技术经过了几代演进，从传统的基于关键词 / 人群的召回，到近些年主流的向量化召回，再到这两年最热门的基于模型的召回，始终引领着业界最前沿的探索方向。 [[技术迭代]]   ([🌐 摘要链接](https://zhuanlan.zhihu.com/p/523549804#js_content:~:text=%E9%98%BF%E9%87%8C%E5%A6%88%E5%A6%88%E7%9A%84%E5%8F%AC%E5%9B%9E%E6%8A%80%E6%9C%AF%E7%BB%8F%E8%BF%87%E4%BA%86%E5%87%A0%E4%BB%A3%E6%BC%94%E8%BF%9B%EF%BC%8C%E4%BB%8E%E4%BC%A0%E7%BB%9F%E7%9A%84%E5%9F%BA%E4%BA%8E%E5%85%B3%E9%94%AE%E8%AF%8D%20/%20%E4%BA%BA%E7%BE%A4%E7%9A%84%E5%8F%AC%E5%9B%9E%EF%BC%8C%E5%88%B0%E8%BF%91%E4%BA%9B%E5%B9%B4%E4%B8%BB%E6%B5%81%E7%9A%84%E5%90%91%E9%87%8F%E5%8C%96%E5%8F%AC%E5%9B%9E%EF%BC%8C%E5%86%8D%E5%88%B0%E8%BF%99%E4%B8%A4%E5%B9%B4%E6%9C%80%E7%83%AD%E9%97%A8%E7%9A%84%E5%9F%BA%E4%BA%8E%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%8F%AC%E5%9B%9E%EF%BC%8C%E5%A7%8B%E7%BB%88%E5%BC%95%E9%A2%86%E7%9D%80%E4%B8%9A%E7%95%8C%E6%9C%80%E5%89%8D%E6%B2%BF%E7%9A%84%E6%8E%A2%E7%B4%A2%E6%96%B9%E5%90%91%E3%80%82))

- > 在基于模型的召回方向，无论是搜索广告的图学习（SMAD、DC-GNN）、双曲空间模型（AMCAD），还是展示广告的树检索（TDM）、**[二向箔](https://mp.weixin.qq.com/s/caFKGjMWyi3iuwgVzEa19Q)**（DVF），都在持续推高召回技术的天花板。  ([🌐 摘要链接](https://zhuanlan.zhihu.com/p/523549804#js_content:~:text=%E5%9C%A8%E5%9F%BA%E4%BA%8E%E6%A8%A1%E5%9E%8B%E7%9A%84%E5%8F%AC%E5%9B%9E%E6%96%B9%E5%90%91%EF%BC%8C%E6%97%A0%E8%AE%BA%E6%98%AF%E6%90%9C%E7%B4%A2%E5%B9%BF%E5%91%8A%E7%9A%84%E5%9B%BE%E5%AD%A6%E4%B9%A0%EF%BC%88SMAD%E3%80%81DC-GNN%EF%BC%89%E3%80%81%E5%8F%8C%E6%9B%B2%E7%A9%BA%E9%97%B4%E6%A8%A1%E5%9E%8B%EF%BC%88AMCAD%EF%BC%89%EF%BC%8C%E8%BF%98%E6%98%AF%E5%B1%95%E7%A4%BA%E5%B9%BF%E5%91%8A%E7%9A%84%E6%A0%91%E6%A3%80%E7%B4%A2%EF%BC%88TDM%EF%BC%89%E3%80%81%E4%BA%8C%E5%90%91%E7%AE%94%EF%BC%88DVF%EF%BC%89%EF%BC%8C%E9%83%BD%E5%9C%A8%E6%8C%81%E7%BB%AD%E6%8E%A8%E9%AB%98%E5%8F%AC%E5%9B%9E%E6%8A%80%E6%9C%AF%E7%9A%84%E5%A4%A9%E8%8A%B1%E6%9D%BF%E3%80%82))

- > ![](https://pic2.zhimg.com/v2-4b0472d590d3975abf0192fad0d4176d_r.jpg) [[系统架构]]  [[召回]]   ([🌐 摘要链接](https://zhuanlan.zhihu.com/p/523549804#js_content:~:text=https://pic2.zhimg.com/v2-4b0472d590d3975abf0192fad0d4176d_r.jpg))

- > 我们把召回引擎重新定义成 MatchServer、Trigger、Searcher 三个逻辑角色：

*   **MatchServer**：负责整体召回流程的编排调度，包括调用 Trigger 获取各种召回信号、调用 Searcher 获取广告候选集、对召回结果进行统一的后处理。这里涉及多路调用和计算，在子图编排上有非常灵活的空间。  
    
*   **Trigger**：输入 User、Query、Context 特征，输出各种召回信号（Token）。这里涉及大量分布式数据的查询、以及上文所述的各种召回算法。在一次流量中，MatchServer 会调用多种 Trigger 来获取多种信号，是召回算法迭代的主阵地。  
    
*   **Searcher**：输入各种召回信号，输出广告候选集（Ad）。这里涉及高性能的倒排 / 正排索引的检索、各种业务逻辑过滤、以及各种排序操作，是广告引擎中计算和数据最重的模块之一。 [[召回]]   ([🌐 摘要链接](https://zhuanlan.zhihu.com/p/523549804#js_content:~:text=%E6%88%91%E4%BB%AC%E6%8A%8A%E5%8F%AC%E5%9B%9E%E5%BC%95%E6%93%8E%E9%87%8D%E6%96%B0%E5%AE%9A%E4%B9%89%E6%88%90%20MatchServer%E3%80%81Trigger%E3%80%81Searcher%20%E4%B8%89%E4%B8%AA%E9%80%BB%E8%BE%91%E8%A7%92%E8%89%B2%EF%BC%9AMatchServer%EF%BC%9A%E8%B4%9F%E8%B4%A3%E6%95%B4%E4%BD%93%E5%8F%AC%E5%9B%9E%E6%B5%81%E7%A8%8B%E7%9A%84%E7%BC%96%E6%8E%92%E8%B0%83%E5%BA%A6%EF%BC%8C%E5%8C%85%E6%8B%AC%E8%B0%83%E7%94%A8%20Trigger%20%E8%8E%B7%E5%8F%96%E5%90%84%E7%A7%8D%E5%8F%AC%E5%9B%9E%E4%BF%A1%E5%8F%B7%E3%80%81%E8%B0%83%E7%94%A8%20Searcher%20%E8%8E%B7%E5%8F%96%E5%B9%BF%E5%91%8A%E5%80%99%E9%80%89%E9%9B%86%E3%80%81%E5%AF%B9%E5%8F%AC%E5%9B%9E%E7%BB%93%E6%9E%9C%E8%BF%9B%E8%A1%8C%E7%BB%9F%E4%B8%80%E7%9A%84%E5%90%8E%E5%A4%84%E7%90%86%E3%80%82%E8%BF%99%E9%87%8C%E6%B6%89%E5%8F%8A%E5%A4%9A%E8%B7%AF%E8%B0%83%E7%94%A8%E5%92%8C%E8%AE%A1%E7%AE%97%EF%BC%8C%E5%9C%A8%E5%AD%90%E5%9B%BE%E7%BC%96%E6%8E%92%E4%B8%8A%E6%9C%89%E9%9D%9E%E5%B8%B8%E7%81%B5%E6%B4%BB%E7%9A%84%E7%A9%BA%E9%97%B4%E3%80%82Trigger%EF%BC%9A%E8%BE%93%E5%85%A5%20User%E3%80%81Query%E3%80%81Context%20%E7%89%B9%E5%BE%81%EF%BC%8C%E8%BE%93%E5%87%BA%E5%90%84%E7%A7%8D%E5%8F%AC%E5%9B%9E%E4%BF%A1%E5%8F%B7%EF%BC%88Token%EF%BC%89%E3%80%82%E8%BF%99%E9%87%8C%E6%B6%89%E5%8F%8A%E5%A4%A7%E9%87%8F%E5%88%86%E5%B8%83%E5%BC%8F%E6%95%B0%E6%8D%AE%E7%9A%84%E6%9F%A5%E8%AF%A2%E3%80%81%E4%BB%A5%E5%8F%8A%E4%B8%8A%E6%96%87%E6%89%80%E8%BF%B0%E7%9A%84%E5%90%84%E7%A7%8D%E5%8F%AC%E5%9B%9E%E7%AE%97%E6%B3%95%E3%80%82%E5%9C%A8%E4%B8%80%E6%AC%A1%E6%B5%81%E9%87%8F%E4%B8%AD%EF%BC%8CMatchServer%20%E4%BC%9A%E8%B0%83%E7%94%A8%E5%A4%9A%E7%A7%8D%20Trigger%20%E6%9D%A5%E8%8E%B7%E5%8F%96%E5%A4%9A%E7%A7%8D%E4%BF%A1%E5%8F%B7%EF%BC%8C%E6%98%AF%E5%8F%AC%E5%9B%9E%E7%AE%97%E6%B3%95%E8%BF%AD%E4%BB%A3%E7%9A%84%E4%B8%BB%E9%98%B5%E5%9C%B0%E3%80%82Searcher%EF%BC%9A%E8%BE%93%E5%85%A5%E5%90%84%E7%A7%8D%E5%8F%AC%E5%9B%9E%E4%BF%A1%E5%8F%B7%EF%BC%8C%E8%BE%93%E5%87%BA%E5%B9%BF%E5%91%8A%E5%80%99%E9%80%89%E9%9B%86%EF%BC%88Ad%EF%BC%89%E3%80%82%E8%BF%99%E9%87%8C%E6%B6%89%E5%8F%8A%E9%AB%98%E6%80%A7%E8%83%BD%E7%9A%84%E5%80%92%E6%8E%92%20/%20%E6%AD%A3%E6%8E%92%E7%B4%A2%E5%BC%95%E7%9A%84%E6%A3%80%E7%B4%A2%E3%80%81%E5%90%84%E7%A7%8D%E4%B8%9A%E5%8A%A1%E9%80%BB%E8%BE%91%E8%BF%87%E6%BB%A4%E3%80%81%E4%BB%A5%E5%8F%8A%E5%90%84%E7%A7%8D%E6%8E%92%E5%BA%8F%E6%93%8D%E4%BD%9C%EF%BC%8C%E6%98%AF%E5%B9%BF%E5%91%8A%E5%BC%95%E6%93%8E%E4%B8%AD%E8%AE%A1%E7%AE%97%E5%92%8C%E6%95%B0%E6%8D%AE%E6%9C%80%E9%87%8D%E7%9A%84%E6%A8%A1%E5%9D%97%E4%B9%8B%E4%B8%80%E3%80%82))

- > ![](https://pic4.zhimg.com/v2-10d538b018371e84126534eb0e28c477_r.jpg) [[系统流程]]  [[系统架构]]  [[召回]]   ([🌐 摘要链接](https://zhuanlan.zhihu.com/p/523549804#js_content:~:text=https://pic4.zhimg.com/v2-10d538b018371e84126534eb0e28c477_r.jpg))

- > 为了解决这个问题，阿里妈妈展示广告在近两年研发了基于 Blink 流批一体技术栈的 “**大规模无截断召回系统 [TFMS](https://arxiv.org/abs/2102.09283)**”，通过离线预计算的方式，为在线两阶段召回很好地补充了更丰富的召回候选集。 [[召回]]   ([🌐 摘要链接](https://zhuanlan.zhihu.com/p/523549804#js_content:~:text=%E4%B8%BA%E4%BA%86%E8%A7%A3%E5%86%B3%E8%BF%99%E4%B8%AA%E9%97%AE%E9%A2%98%EF%BC%8C%E9%98%BF%E9%87%8C%E5%A6%88%E5%A6%88%E5%B1%95%E7%A4%BA%E5%B9%BF%E5%91%8A%E5%9C%A8%E8%BF%91%E4%B8%A4%E5%B9%B4%E7%A0%94%E5%8F%91%E4%BA%86%E5%9F%BA%E4%BA%8E%20Blink%20%E6%B5%81%E6%89%B9%E4%B8%80%E4%BD%93%E6%8A%80%E6%9C%AF%E6%A0%88%E7%9A%84%20%E2%80%9C%E5%A4%A7%E8%A7%84%E6%A8%A1%E6%97%A0%E6%88%AA%E6%96%AD%E5%8F%AC%E5%9B%9E%E7%B3%BB%E7%BB%9F%20TFMS%E2%80%9D%EF%BC%8C%E9%80%9A%E8%BF%87%E7%A6%BB%E7%BA%BF%E9%A2%84%E8%AE%A1%E7%AE%97%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%8C%E4%B8%BA%E5%9C%A8%E7%BA%BF%E4%B8%A4%E9%98%B6%E6%AE%B5%E5%8F%AC%E5%9B%9E%E5%BE%88%E5%A5%BD%E5%9C%B0%E8%A1%A5%E5%85%85%E4%BA%86%E6%9B%B4%E4%B8%B0%E5%AF%8C%E7%9A%84%E5%8F%AC%E5%9B%9E%E5%80%99%E9%80%89%E9%9B%86%E3%80%82))
  - 📝 离线预计算，预召回

- > ![](https://pic3.zhimg.com/v2-e5a56a0b46bbaf61a3c038a747473cd6_r.jpg) [[召回]]  [[系统架构]]  [[系统流程]]   ([🌐 摘要链接](https://zhuanlan.zhihu.com/p/523549804#js_content:~:text=https://pic3.zhimg.com/v2-e5a56a0b46bbaf61a3c038a747473cd6_r.jpg))

- > 在离线复用一套架构的想象空间在于，可以通过智能的**算力分配技术**，自动化地调节在线和离线召回的计算资源，从而让系统资源在高利用率下能够保持安全稳定，同时产出最大的业务价值。  ([🌐 摘要链接](https://zhuanlan.zhihu.com/p/523549804#js_content:~:text=%E7%AE%97%E5%8A%9B%E5%88%86%E9%85%8D%E6%8A%80%E6%9C%AF%E5%9C%A8%E7%A6%BB%E7%BA%BF%E5%A4%8D%E7%94%A8%E4%B8%80%E5%A5%97%E6%9E%B6%E6%9E%84%E7%9A%84%E6%83%B3%E8%B1%A1%E7%A9%BA%E9%97%B4%E5%9C%A8%E4%BA%8E%EF%BC%8C%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87%E6%99%BA%E8%83%BD%E7%9A%84%EF%BC%8C%E8%87%AA%E5%8A%A8%E5%8C%96%E5%9C%B0%E8%B0%83%E8%8A%82%E5%9C%A8%E7%BA%BF%E5%92%8C%E7%A6%BB%E7%BA%BF%E5%8F%AC%E5%9B%9E%E7%9A%84%E8%AE%A1%E7%AE%97%E8%B5%84%E6%BA%90%EF%BC%8C%E4%BB%8E%E8%80%8C%E8%AE%A9%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90%E5%9C%A8%E9%AB%98%E5%88%A9%E7%94%A8%E7%8E%87%E4%B8%8B%E8%83%BD%E5%A4%9F%E4%BF%9D%E6%8C%81%E5%AE%89%E5%85%A8%E7%A8%B3%E5%AE%9A%EF%BC%8C%E5%90%8C%E6%97%B6%E4%BA%A7%E5%87%BA%E6%9C%80%E5%A4%A7%E7%9A%84%E4%B8%9A%E5%8A%A1%E4%BB%B7%E5%80%BC%E3%80%82))

- > ![](https://pic1.zhimg.com/v2-2df65e6d839e77d26dccfaba91abad94_r.jpg) [[创意优化]]  [[系统架构]]   ([🌐 摘要链接](https://zhuanlan.zhihu.com/p/523549804#js_content:~:text=https://pic1.zhimg.com/v2-2df65e6d839e77d26dccfaba91abad94_r.jpg))

